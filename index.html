<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Stats Collector</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="top">
    <button id="check_games" class="btn btn-outline-primary btn-sm top-btns">Check Games</button>
    <button id='update_games' class='btn btn-outline-primary btn-sm top-btns'>Update Games</button>
    <button id="update_mfl_players" class="btn btn-outline-info btn-sm top-btns">Update MFL Players</button>
    <button id="update_mfl_injuries" class="btn btn-outline-info btn-sm top-btns">Update MFL Injuries</button>
    <button id="update_player_info" class="btn btn-outline-primary btn-sm top-btns">Update Player Info</button>
    <button id="update_player_points" class="btn btn-outline-success btn-sm top-btns">Update Player Points</button>
    <button id="update_calc_stats" class="btn btn-outline-success btn-sm top-btns">Update Calc</button>
    <button id="update_rank" class="btn btn-outline-success btn-sm top-btns">Update Rank</button>
  </div>
  <hr >
 
  <div class="loading text-center fs-2"><i class="fa fa-spinner fa-spin" aria-hidden="true"></i>  Loading...</div>
  <div class="row">
    <div id="games" class="col">
      <h3>Flow</h3>
      <ul>
        <li>MFL Player Update runs daily 4AM</li>
        <li>If there are any mismatches, it'll tell you here</li>
        <li>MFL Injury Update runs daily 5AM</li>
        <li>Check games will hit the schedule and see if there are any games that need to be pulled in</li>
      </ul>
      <h3>Actions</h3>
      <ul>
        <li><strong>Check Games</strong> - Pulls in games from the schedule
          <ul>
            <li><strong>Update Games</strong> - Uses the schedule to update the individual games</li>
          </ul>
        </li>
        <li><strong>Update MFL Players</strong> - Pulls in players from MFL and updates the players table</li>
        <li><strong>Update MFL Injuries</strong> - Pulls in injuries from MFL and updates the injuries table</li>
        <li><strong>Update Player Info</strong> - Pulls in player details (bday etc.)</li>
        <li><strong>Update Player Points</strong> - Calcualtes points based of FD scoring system</li>
        <li><strong>Update Calc</strong> - Formats data for the calc_ tables (Position Offense Stats and Defense Position performance)</li>
        <li><strong>Update Rank</strong> - Ranks players based on the calc_ tables and saves to rank_summary table and app.fozzil.net</li>
      </ul>
    </div>
    <div id="logs" class="col-3"></div>
  </div>
  
  

  <!-- Jquery and Bootstrap JS files -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.21/jquery.csv.min.js" integrity="sha512-Y8iWYJDo6HiTo5xtml1g4QqHtl/PO1w+dmUpQfQSOTqKNsMhExfyPN2ncNAe9JuJUSKzwK/b6oaNPop4MXzkwg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- custom JS files -->
  <script src="js/auth.js"></script><!-- JS auth function -->
  <script src="js/main.js"></script><!-- JS file -->
  <script src="js/functions.js"></script><!-- JS file -->
  <script src="js/getgames.js"></script><!-- JS file -->
  <script src="js/getschedule.js"></script><!-- JS file -->
  <script src="js/mflplayers.js"></script><!-- JS file -->
  <script src="js/mflinjuries.js"></script><!-- JS file -->
  <script src="js/playerinfo.js"></script><!-- JS file -->
  <script src="js/processpoints.js"></script><!-- JS file -->
  <script src="js/updatecalc.js"></script><!-- JS file -->
  <script src="js/rank.js"></script><!-- JS file -->
  <script src="js/logging.js"></script><!-- JS file -->
  
  <script>
    $(document).ready(function() {
        console.log("ready!");
        checkAuth();
    });
  </script>
<body>
</html>